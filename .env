#
# Pilot defaults (Ubuntu + PostgreSQL, persistent local disk under ./data/)
#

# Images
POSTGRES_IMAGE=postgres:17-alpine
ZABBIX_SERVER_IMAGE=zabbix/zabbix-server-pgsql:ubuntu-7.4-latest
ZABBIX_WEB_IMAGE=zabbix/zabbix-web-nginx-pgsql:ubuntu-7.4-latest
# AV-focused proxy (SQLite3, maintained by Hyperscale AV)
ZABBIX_PROXY_SQLITE3_IMAGE=ghcr.io/hyperscaleav/zabbix-proxy-sqlite3:latest

# Ports on the host
ZABBIX_SERVER_PORT=10051
ZABBIX_WEB_HTTP_PORT=80
ZABBIX_WEB_HTTPS_PORT=443

# Database (pilot defaults; change before internet exposure)
POSTGRES_DB=zabbix
POSTGRES_USER=zabbix
POSTGRES_PASSWORD=zabbix

# Web timezone
PHP_TZ=UTC

# Proxy settings
# This is how the proxy will be named inside Zabbix (UI -> Administration -> Proxies)
ZABBIX_PROXY_HOSTNAME=av-proxy-1

# Proxy behaviour â€“ these defaults are tuned for AV use
ZBX_PROXYMODE=0                 # 0 = active proxy, 1 = passive
ZBX_PROXYBUFFERMODE=hybrid      # how data is buffered when link is bad
ZBX_PROXYMEMORYBUFFERAGE=1800   # seconds
ZBX_PROXYMEMORYBUFFERSIZE=256M  # memory buffer size
ZBX_ENABLEREMOTECOMMANDS=1      # allow remote commands from server
